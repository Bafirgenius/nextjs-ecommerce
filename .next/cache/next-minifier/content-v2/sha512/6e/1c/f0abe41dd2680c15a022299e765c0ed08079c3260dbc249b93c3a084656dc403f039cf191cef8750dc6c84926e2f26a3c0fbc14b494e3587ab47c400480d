{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[11],{\"20a2\":function(e,t,c){e.exports=c(\"nOHt\")},KmnI:function(e,t,c){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/edit_user/[id]\",function(){return c(\"Wx45\")}])},Wx45:function(e,t,c){\"use strict\";c.r(t);var r=c(\"nKUr\"),n=c(\"rePB\"),s=c(\"g4pe\"),a=c.n(s),i=c(\"q1tI\"),o=c(\"qG/y\"),l=c(\"WtUO\"),d=c(\"20a2\"),u=c(\"EFaQ\");function b(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,r)}return c}function j(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?b(Object(c),!0).forEach((function(t){Object(n.a)(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):b(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}t.default=function(){var e=Object(d.useRouter)(),t=e.query.id,c=Object(i.useContext)(o.a),n=c.state,s=c.dispatch,b=n.auth,O=n.users,p=Object(i.useState)([]),m=p[0],f=p[1],h=Object(i.useState)(!1),x=h[0],y=h[1],N=Object(i.useState)(0),w=N[0],_=N[1];Object(i.useEffect)((function(){O.forEach((function(e){e._id===t&&(f(e),y(\"admin\"===e.role))}))}),[O]);return Object(r.jsxs)(\"div\",{className:\"edit_user my-3\",children:[Object(r.jsx)(a.a,{children:Object(r.jsx)(\"title\",{children:\"Edit User\"})}),Object(r.jsx)(\"div\",{children:Object(r.jsxs)(\"button\",{className:\"btn btn-dark\",onClick:function(){return e.back()},children:[Object(r.jsx)(\"i\",{className:\"fas fa-long-arrow-alt-left\",\"aria-hidden\":!0}),\" Go Back\"]})}),Object(r.jsxs)(\"div\",{className:\"col-md-4 mx-auto my-4\",children:[Object(r.jsx)(\"h2\",{className:\"text-uppercase text-secondary\",children:\"Edit User\"}),Object(r.jsxs)(\"div\",{className:\"form-group\",children:[Object(r.jsx)(\"label\",{htmlFor:\"name\",className:\"d-block\",children:\"Name\"}),Object(r.jsx)(\"input\",{type:\"text\",id:\"name\",defaultValue:m.name,disabled:!0})]}),Object(r.jsxs)(\"div\",{className:\"form-group\",children:[Object(r.jsx)(\"label\",{htmlFor:\"email\",className:\"d-block\",children:\"Email\"}),Object(r.jsx)(\"input\",{type:\"text\",id:\"email\",defaultValue:m.email,disabled:!0})]}),Object(r.jsxs)(\"div\",{className:\"form-group\",children:[Object(r.jsx)(\"input\",{type:\"checkbox\",id:\"isAdmin\",checked:x,style:{width:\"20px\",height:\"20px\"},onChange:function(){y(!x),_(w+1)}}),Object(r.jsx)(\"label\",{htmlFor:\"isAdmin\",style:{transform:\"translate(4px, -3px)\"},children:\"isAdmin\"})]}),Object(r.jsx)(\"button\",{className:\"btn btn-dark\",onClick:function(){var e=x?\"admin\":\"user\";w%2!==0&&(s({type:\"NOTIFY\",payload:{loading:!0}}),Object(u.c)(\"user/\".concat(m._id),{role:e},b.token).then((function(t){return t.err?s({type:\"NOTIFY\",payload:{error:t.err}}):(s(Object(l.f)(O,m._id,j(j({},m),{},{role:e}),\"ADD_USERS\")),s({type:\"NOTIFY\",payload:{success:t.msg}}))})))},children:\"Update\"})]})]})}}},[[\"KmnI\",0,2,1,3,4]]]);","map":{"version":3,"sources":["static/chunks/pages/edit_user/[id]-30f6a15088160c39eb9f.js"],"names":["_N_E","window","push","20a2","module","exports","__webpack_require__","KmnI","__NEXT_P","Wx45","__webpack_exports__","r","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","_home_user_ilmuone_opaku_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__","next_head__WEBPACK_IMPORTED_MODULE_2__","next_head__WEBPACK_IMPORTED_MODULE_2___default","n","react__WEBPACK_IMPORTED_MODULE_3__","_store_GlobalState__WEBPACK_IMPORTED_MODULE_4__","_store_Actions__WEBPACK_IMPORTED_MODULE_5__","next_router__WEBPACK_IMPORTED_MODULE_6__","_utils_fetchData__WEBPACK_IMPORTED_MODULE_7__","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","router","id","query","_useContext","state","dispatch","auth","users","_useState","editUser","setEditUser","_useState2","checkAdmin","setCheckAdmin","_useState3","num","setNum","user","_id","role","className","children","a","onClick","back","aria-hidden","htmlFor","type","defaultValue","name","disabled","email","checked","style","width","height","onChange","transform","payload","loading","concat","token","then","res","err","error","success","msg"],"mappings":"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"},"name":"static/chunks/pages/edit_user/[id]-30f6a15088160c39eb9f.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[11],{\n\n/***/ \"20a2\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(\"nOHt\")\n\n\n/***/ }),\n\n/***/ \"KmnI\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/edit_user/[id]\",\n      function () {\n        return __webpack_require__(\"Wx45\");\n      }\n    ]);\n  \n\n/***/ }),\n\n/***/ \"Wx45\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _home_user_ilmuone_opaku_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"rePB\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"g4pe\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _store_GlobalState__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"qG/y\");\n/* harmony import */ var _store_Actions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"WtUO\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"20a2\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _utils_fetchData__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"EFaQ\");\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { Object(_home_user_ilmuone_opaku_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n\n\n\nvar EditUser = function EditUser() {\n  var router = Object(next_router__WEBPACK_IMPORTED_MODULE_6__[\"useRouter\"])();\n  var id = router.query.id;\n\n  var _useContext = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useContext\"])(_store_GlobalState__WEBPACK_IMPORTED_MODULE_4__[/* DataContext */ \"a\"]),\n      state = _useContext.state,\n      dispatch = _useContext.dispatch;\n\n  var auth = state.auth,\n      users = state.users;\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])([]),\n      editUser = _useState[0],\n      setEditUser = _useState[1];\n\n  var _useState2 = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(false),\n      checkAdmin = _useState2[0],\n      setCheckAdmin = _useState2[1];\n\n  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(0),\n      num = _useState3[0],\n      setNum = _useState3[1];\n\n  Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useEffect\"])(function () {\n    users.forEach(function (user) {\n      if (user._id === id) {\n        setEditUser(user);\n        setCheckAdmin(user.role === 'admin' ? true : false);\n      }\n    });\n  }, [users]);\n\n  var handleCheck = function handleCheck() {\n    setCheckAdmin(!checkAdmin);\n    setNum(num + 1);\n  };\n\n  var handleSubmit = function handleSubmit() {\n    var role = checkAdmin ? 'admin' : 'user';\n\n    if (num % 2 !== 0) {\n      dispatch({\n        type: 'NOTIFY',\n        payload: {\n          loading: true\n        }\n      });\n      Object(_utils_fetchData__WEBPACK_IMPORTED_MODULE_7__[/* patchData */ \"c\"])(\"user/\".concat(editUser._id), {\n        role: role\n      }, auth.token).then(function (res) {\n        if (res.err) return dispatch({\n          type: 'NOTIFY',\n          payload: {\n            error: res.err\n          }\n        });\n        dispatch(Object(_store_Actions__WEBPACK_IMPORTED_MODULE_5__[/* updateItem */ \"f\"])(users, editUser._id, _objectSpread(_objectSpread({}, editUser), {}, {\n          role: role\n        }), 'ADD_USERS'));\n        return dispatch({\n          type: 'NOTIFY',\n          payload: {\n            success: res.msg\n          }\n        });\n      });\n    }\n  };\n\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n    className: \"edit_user my-3\",\n    children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(next_head__WEBPACK_IMPORTED_MODULE_2___default.a, {\n      children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"title\", {\n        children: \"Edit User\"\n      })\n    }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n      children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"button\", {\n        className: \"btn btn-dark\",\n        onClick: function onClick() {\n          return router.back();\n        },\n        children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"i\", {\n          className: \"fas fa-long-arrow-alt-left\",\n          \"aria-hidden\": true\n        }), \" Go Back\"]\n      })\n    }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n      className: \"col-md-4 mx-auto my-4\",\n      children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"h2\", {\n        className: \"text-uppercase text-secondary\",\n        children: \"Edit User\"\n      }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"label\", {\n          htmlFor: \"name\",\n          className: \"d-block\",\n          children: \"Name\"\n        }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"input\", {\n          type: \"text\",\n          id: \"name\",\n          defaultValue: editUser.name,\n          disabled: true\n        })]\n      }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"label\", {\n          htmlFor: \"email\",\n          className: \"d-block\",\n          children: \"Email\"\n        }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"input\", {\n          type: \"text\",\n          id: \"email\",\n          defaultValue: editUser.email,\n          disabled: true\n        })]\n      }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"input\", {\n          type: \"checkbox\",\n          id: \"isAdmin\",\n          checked: checkAdmin,\n          style: {\n            width: '20px',\n            height: '20px'\n          },\n          onChange: handleCheck\n        }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"label\", {\n          htmlFor: \"isAdmin\",\n          style: {\n            transform: 'translate(4px, -3px)'\n          },\n          children: \"isAdmin\"\n        })]\n      }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"button\", {\n        className: \"btn btn-dark\",\n        onClick: handleSubmit,\n        children: \"Update\"\n      })]\n    })]\n  });\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (EditUser);\n\n/***/ })\n\n},[[\"KmnI\",0,2,1,3,4]]]);","inputSourceMap":{"version":3,"sources":["/home/user/ilmuone/opaku/node_modules/next/router.js","/home/user/ilmuone/opaku/node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?page=%2Fedit_user%2F%5Bid%5D&absolutePagePath=private-next-pages%2Fedit_user%2F%5Bid%5D.js!","/home/user/ilmuone/opaku/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/home/user/ilmuone/opaku/pages/edit_user/[id].js"],"names":[],"mappings":";;;;;;AAAA,iBAAiB,mBAAO,CAAC,MAAsB;;;;;;;;;ACC/C;AACA;AACA;AACA,eAAe,mBAAO,CAAC,MAAsC;AAC7D;AACA;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkD;AACF;AAC8D;;AAE9G,0CAA0C,gCAAgC,oCAAoC,oDAAoD,8DAA8D,gEAAgE,EAAE,EAAE,gCAAgC,EAAE,aAAa;;AAEnV,gCAAgC,gBAAgB,sBAAsB,OAAO,uDAAuD,aAAa,uDAAuD,CAAC,sIAAe,2BAA2B,EAAE,EAAE,EAAE,6CAA6C,2EAA2E,EAAE,OAAO,iDAAiD,kFAAkF,EAAE,EAAE,EAAE,EAAE,eAAe;;AAEvf;AAC2B;AACF;AACL;AACT;AACU;;AAElD;AACA,eAAe,6DAAS;AACxB;;AAEA,oBAAoB,wDAAU,CAAC,sEAAW;AAC1C;AACA;;AAEA;AACA;;AAEA,kBAAkB,sDAAQ;AAC1B;AACA;;AAEA,mBAAmB,sDAAQ;AAC3B;AACA;;AAEA,mBAAmB,sDAAQ;AAC3B;AACA;;AAEA,EAAE,uDAAS;AACX;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,MAAM,0EAAS;AACf;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,iBAAiB,yEAAU,oDAAoD,eAAe;AAC9F;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;;AAEA,sBAAsB,8DAAK;AAC3B;AACA,4BAA4B,6DAAI,CAAC,gDAAI;AACrC,6BAA6B,6DAAI;AACjC;AACA,OAAO;AACP,KAAK,gBAAgB,6DAAI;AACzB,6BAA6B,8DAAK;AAClC;AACA;AACA;AACA,SAAS;AACT,gCAAgC,6DAAI;AACpC;AACA;AACA,SAAS;AACT,OAAO;AACP,KAAK,gBAAgB,8DAAK;AAC1B;AACA,8BAA8B,6DAAI;AAClC;AACA;AACA,OAAO,gBAAgB,8DAAK;AAC5B;AACA,gCAAgC,6DAAI;AACpC;AACA;AACA;AACA,SAAS,gBAAgB,6DAAI;AAC7B;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO,gBAAgB,8DAAK;AAC5B;AACA,gCAAgC,6DAAI;AACpC;AACA;AACA;AACA,SAAS,gBAAgB,6DAAI;AAC7B;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO,gBAAgB,8DAAK;AAC5B;AACA,gCAAgC,6DAAI;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,SAAS,gBAAgB,6DAAI;AAC7B;AACA;AACA;AACA,WAAW;AACX;AACA,SAAS;AACT,OAAO,gBAAgB,6DAAI;AAC3B;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL,GAAG;AACH;;AAEe,uEAAQ,E","file":"x","sourcesContent":["module.exports = require('./dist/client/router')\n","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/edit_user/[id]\",\n      function () {\n        return require(\"private-next-pages/edit_user/[id].js\");\n      }\n    ]);\n  ","import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _defineProperty from \"/home/user/ilmuone/opaku/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport Head from 'next/head';\nimport { useContext, useState, useEffect } from 'react';\nimport { DataContext } from '../../store/GlobalState';\nimport { updateItem } from '../../store/Actions';\nimport { useRouter } from 'next/router';\nimport { patchData } from '../../utils/fetchData';\n\nvar EditUser = function EditUser() {\n  var router = useRouter();\n  var id = router.query.id;\n\n  var _useContext = useContext(DataContext),\n      state = _useContext.state,\n      dispatch = _useContext.dispatch;\n\n  var auth = state.auth,\n      users = state.users;\n\n  var _useState = useState([]),\n      editUser = _useState[0],\n      setEditUser = _useState[1];\n\n  var _useState2 = useState(false),\n      checkAdmin = _useState2[0],\n      setCheckAdmin = _useState2[1];\n\n  var _useState3 = useState(0),\n      num = _useState3[0],\n      setNum = _useState3[1];\n\n  useEffect(function () {\n    users.forEach(function (user) {\n      if (user._id === id) {\n        setEditUser(user);\n        setCheckAdmin(user.role === 'admin' ? true : false);\n      }\n    });\n  }, [users]);\n\n  var handleCheck = function handleCheck() {\n    setCheckAdmin(!checkAdmin);\n    setNum(num + 1);\n  };\n\n  var handleSubmit = function handleSubmit() {\n    var role = checkAdmin ? 'admin' : 'user';\n\n    if (num % 2 !== 0) {\n      dispatch({\n        type: 'NOTIFY',\n        payload: {\n          loading: true\n        }\n      });\n      patchData(\"user/\".concat(editUser._id), {\n        role: role\n      }, auth.token).then(function (res) {\n        if (res.err) return dispatch({\n          type: 'NOTIFY',\n          payload: {\n            error: res.err\n          }\n        });\n        dispatch(updateItem(users, editUser._id, _objectSpread(_objectSpread({}, editUser), {}, {\n          role: role\n        }), 'ADD_USERS'));\n        return dispatch({\n          type: 'NOTIFY',\n          payload: {\n            success: res.msg\n          }\n        });\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"edit_user my-3\",\n    children: [/*#__PURE__*/_jsx(Head, {\n      children: /*#__PURE__*/_jsx(\"title\", {\n        children: \"Edit User\"\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      children: /*#__PURE__*/_jsxs(\"button\", {\n        className: \"btn btn-dark\",\n        onClick: function onClick() {\n          return router.back();\n        },\n        children: [/*#__PURE__*/_jsx(\"i\", {\n          className: \"fas fa-long-arrow-alt-left\",\n          \"aria-hidden\": true\n        }), \" Go Back\"]\n      })\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"col-md-4 mx-auto my-4\",\n      children: [/*#__PURE__*/_jsx(\"h2\", {\n        className: \"text-uppercase text-secondary\",\n        children: \"Edit User\"\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsx(\"label\", {\n          htmlFor: \"name\",\n          className: \"d-block\",\n          children: \"Name\"\n        }), /*#__PURE__*/_jsx(\"input\", {\n          type: \"text\",\n          id: \"name\",\n          defaultValue: editUser.name,\n          disabled: true\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsx(\"label\", {\n          htmlFor: \"email\",\n          className: \"d-block\",\n          children: \"Email\"\n        }), /*#__PURE__*/_jsx(\"input\", {\n          type: \"text\",\n          id: \"email\",\n          defaultValue: editUser.email,\n          disabled: true\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsx(\"input\", {\n          type: \"checkbox\",\n          id: \"isAdmin\",\n          checked: checkAdmin,\n          style: {\n            width: '20px',\n            height: '20px'\n          },\n          onChange: handleCheck\n        }), /*#__PURE__*/_jsx(\"label\", {\n          htmlFor: \"isAdmin\",\n          style: {\n            transform: 'translate(4px, -3px)'\n          },\n          children: \"isAdmin\"\n        })]\n      }), /*#__PURE__*/_jsx(\"button\", {\n        className: \"btn btn-dark\",\n        onClick: handleSubmit,\n        children: \"Update\"\n      })]\n    })]\n  });\n};\n\nexport default EditUser;"]}}